<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SyncFlo Start</title>
  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background: #121212; color: #e6e6e6; }
    .navbar { position: fixed; top: 0; left: 0; right: 0; height: 56px; background: #1e1e1e; border-bottom: 1px solid #2a2a2a; display: flex; align-items: center; gap: 8px; padding: 0 12px; z-index: 9999; }
    .btn { width: 36px; height: 36px; border: none; background: #2a2a2a; color: #e6e6e6; border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 16px; }
    .addr { flex: 1; height: 36px; border-radius: 6px; border: 1px solid #2a2a2a; background: #1b1b1b; color: #e6e6e6; outline: none; padding: 0 12px; font-size: 14px; }
    .content { min-height: 100%; display: flex; align-items: center; justify-content: center; padding-top: 56px; }
    .wrap { width: min(720px, 92vw); text-align: center; }
    h1 { font-size: 28px; font-weight: 700; margin-bottom: 20px; color: #fafafa; }
    form { display: flex; gap: 8px; }
    input[type=text] { flex: 1; height: 48px; padding: 0 16px; border-radius: 12px; border: 1px solid #2a2a2a; background: #1b1b1b; color: #e6e6e6; outline: none; font-size: 16px; }
    input[type=text]:focus { border-color: #3a83f7; box-shadow: 0 0 0 3px rgba(58,131,247,0.25); }
    button { height: 48px; padding: 0 18px; border-radius: 12px; border: 0; background: #3a83f7; color: white; font-size: 16px; cursor: pointer; }
    button:hover { background: #2f73e1; }
    .hint { margin-top: 12px; color: #a7a7a7; font-size: 13px; }
  </style>
  <script>
    (function() {
      function isUrl(str) {
        try {
          var u = new URL(str);
          return u.protocol === 'http:' || u.protocol === 'https:';
        } catch (e) {
          return (str.indexOf('.') > 0 && str.indexOf(' ') === -1);
        }
      }
      function handleSearch(query) {
        query = (query || '').trim();
        if (!query) return;
        if (isUrl(query)) {
          if (!/^https?:\/\//i.test(query)) query = 'https://' + query;
          window.location.href = query;
        } else {
          window.location.href = 'https://www.google.com/search?q=' + encodeURIComponent(query);
        }
      }
      function onSubmit(e) {
        e.preventDefault();
        var input = document.getElementById('q');
        handleSearch(input.value);
        return false;
      }
      function onButtonClick() {
        var input = document.getElementById('q');
        handleSearch(input.value);
      }
      function navigateUrl(raw){
        var u = (raw||'').trim();
        if(!u) return;
        try {
          var test = new URL(u);
          if(test.protocol==='http:'||test.protocol==='https:'){ location.href = u; return; }
        } catch(e){ }
        if(u.indexOf('.')>0 && u.indexOf(' ')===-1){ location.href = 'https://' + u; }
        else { location.href = 'https://www.google.com/search?q=' + encodeURIComponent(u); }
      }
      window.addEventListener('DOMContentLoaded', function() {
        // nav handlers
        var addr = document.getElementById('addr');
        var back = document.getElementById('back');
        var forward = document.getElementById('forward');
        var refresh = document.getElementById('refresh');
        var home = document.getElementById('home');
        var go = document.getElementById('go');
        if (addr) addr.addEventListener('keydown', function(e){ if(e.key==='Enter'){ e.preventDefault(); navigateUrl(addr.value); }});
        if (go) go.onclick = function(){ navigateUrl(addr.value); };
        if (back) back.onclick = function(){ try{ history.back(); }catch(e){} };
        if (forward) forward.onclick = function(){ try{ history.forward(); }catch(e){} };
        if (refresh) refresh.onclick = function(){ location.reload(); };
        if (home) home.onclick = function(){ location.href = location.href.split('#')[0]; };

        var form = document.getElementById('searchForm');
        var btn = document.getElementById('searchBtn');
        if (form) form.addEventListener('submit', onSubmit);
        if (btn) btn.addEventListener('click', onButtonClick);
        var input = document.getElementById('q');
        if (input) input.focus();
      });
    })();
  </script>
</head>
<body>
  <div class="navbar">
    <button id="back" class="btn" title="뒤로">←</button>
    <button id="forward" class="btn" title="앞으로">→</button>
    <button id="refresh" class="btn" title="새로고침">⟳</button>
    <button id="home" class="btn" title="홈">⌂</button>
    <input id="addr" class="addr" placeholder="주소 또는 검색어" />
    <button id="go" class="btn" title="이동">↵</button>
  </div>
  <div class="content">
    <div class="wrap">
      <h1>SyncFlo Browser</h1>
      <form id="searchForm" autocomplete="on">
        <input id="q" type="text" placeholder="브라우저 검색" />
        <button id="searchBtn" type="button">검색</button>
      </form>
      <div class="hint">Enter로 검색 · URL을 입력하면 해당 사이트로 이동합니다</div>
    </div>
  </div>
</body>
</html>

